# AI Management Hub

Универсальный менеджер для работы с несколькими нейросетями (ChatGPT, Gemini, Bing и др.), использующий FastAPI и Redis. Проект создан для маршрутизации запросов к различным ИИ-сервисам, кэширования результатов и повышения эффективности работы с нейросетями.

---

## Содержание

1. [Особенности](#особенности)  
2. [Технологии](#технологии)  
3. [Установка](#установка)  
4. [Запуск](#запуск)  
5. [API Документация](#api-документация)  
6. [Структура проекта](#структура-проекта)  
7. [Тестирование](#тестирование)  
8. [Контакты](#контакты)  

---

## Особенности

- **Мультисервисная поддержка:** Поддержка нескольких нейросетей через единый API.  
- **Кэширование:** Использование Redis для хранения результатов запросов, минимизация времени ожидания.  
- **Асинхронность:** Оптимизировано для высоконагруженных систем.  
- **Лёгкая модификация:** Архитектура позволяет легко добавлять новые сервисы.  

---

## Технологии

- **Backend:** Python (FastAPI)  
- **Кэширование:** Redis  
- **Тестирование:** Pytest, HTTPX  
- **Асинхронность:** asyncio  
- **Документация API:** Swagger/OpenAPI  

---

## Установка

1. **Клонируйте репозиторий:**
   ```bash
   git clone https://github.com/ваш-проект.git
   cd ваш-проект
  
2. **Создайте виртуальное окружение:**
   Для Linux/MacOS:
   ```bash
   python -m venv venv
   source venv/bin/activate

Для Windows:

python -m venv venv
venv\Scripts\activate

3. Установите зависимости: После активации виртуального окружения установите все необходимые зависимости из файла requirements.txt:

pip install -r requirements.txt


4. Настройте Redis:
Убедитесь, что Redis установлен и работает на вашем сервере. Для запуска Redis используйте команду:

redis-server

Для проверки статуса Redis, используйте:

redis-cli ping

Ответ должен быть PONG.




---

## Запуск

1. Запустите сервер FastAPI с помощью uvicorn:

uvicorn app.main:app --reload


2. Приложение будет доступно по адресу:

http://127.0.0.1:8000


3. Для просмотра документации API, используйте:

http://127.0.0.1:8000/docs

или для старой версии документации:

http://127.0.0.1:8000/redoc




---

## API Документация

POST /query

Описание: Отправка запроса к выбранной нейросети.

Тело запроса:

{
  "prompt": "Ваш текст запроса",
  "service": "chatgpt"
}

prompt: Текст запроса, который вы хотите отправить нейросети.

service: Имя нейросети, к которой будет отправлен запрос (например, chatgpt, gemini).


Пример ответа:

{
  "cached": false,
  "response": "Ответ от нейросети"
}

cached: Указывает, был ли ответ получен из кэша.

response: Ответ, полученный от нейросети.



---

## Структура проекта
```bash
src/
├── app/
│   ├── main.py                # Точка входа
│   ├── config.py              # Конфигурации (Redis, API-ключи)
├── cache/
│   ├── redis_cache.py         # Работа с Redis
├── managers/
│   ├── chatgpt_manager.py     # Логика работы с ChatGPT
│   ├── gemini_manager.py      # Логика работы с Gemini
├── router/
│   ├── router.py              # Маршрутизация запросов
├── tests/
│   ├── unit/                  # Unit-тесты
│   ├── integration/           # Интеграционные тесты
│   ├── e2e/                   # End-to-End тесты

```
---

## Тестирование

1. Запуск всех тестов: Для запуска тестов используйте команду:

pytest


2. Тестовая структура:

Unit-тесты: Тестируют отдельные компоненты, например, взаимодействие с Redis.

Интеграционные тесты: Проверяют взаимодействие между компонентами, например, корректность маршрутизации запросов.

E2E-тесты: Проверяют работу всей системы, включая взаимодействие с внешними сервисами.



3. Тестирование через HTTP: Также можно протестировать работу API через HTTP-клиенты, например, используя HTTPX или Postman.




---

## Контакты

Email: 4youdanchiknew@gmail.com

GitHub: DanilKoshnarev




